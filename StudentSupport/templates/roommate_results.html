<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suggested Roommates</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}"> 
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='roommate.css') }}"> 
    

</head>
<body>
    <header>
        <h2>NEU</h2>
        <button class="hamburger" onclick="toggleMenu()">â˜°</button>
        <nav id="menu">
            <a href="/home">Home</a>
            <a href="/next_steps">My Dashboard</a>
            <a href="/housing">Housing & Roommate</a>
            <a href="/resources">Resources</a>
            <a href="/logout">Logout</a>
        </nav>
    </header>

    <div class="container py-5">
        <div class="text-center mb-5">
            <h1 class="display-5 fw-bold mb-2">Your Suggested Roommates</h1>
            <p class="lead text-muted">Based on your preferences, here are the most compatible roommates for you!</p>
        </div>

        <div class="row g-4">
            {% for first, last, email, emoji, age, country, score in roommates %}
            {% set percentage = ((score / 7) * 100) | round(0) | int %}
            <div class="col-lg-4 col-md-6">
                <div class="roommate-card">
                    <div class="compatibility-badge 
                        {% if percentage >= 80 %}compatibility-high
                        {% elif percentage >= 60 %}compatibility-medium
                        {% else %}compatibility-low
                        {% endif %}">
                        {{ percentage }}% Match
                    </div>

                    <div class="roommate-header">
                        <div class="roommate-emoji">ðŸ‘¤</div>
                        <h4>{{ first }} {{ last }}</h4>
                        <small>{{ country }}</small>
                    </div>

                    <div class="p-3">
                        <div class="preference-match">
                            <span>Age</span><span>{{ age }}</span>
                        </div>
                        <div class="preference-match">
                            <span>Country</span><span>{{ country }}</span>
                        </div>
                        <div class="preference-match">
                            <span>Compatibility</span><span>{{ score }}/7 ({{ percentage }}%)</span>
                        </div>

                        <div class="text-center mt-3">
                            <a href="/chat/{{ email }}" class="chat-btn">ðŸ’¬ Start Chatting</a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <footer>
        <p>&copy; 2025 NEU Student Hub. All rights reserved.</p>
    </footer>
    <script>
        function toggleMenu() {
            const nav = document.getElementById('menu');
            nav.classList.toggle('active');
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
